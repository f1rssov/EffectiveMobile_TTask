#  EffectiveMobile_TTask
#  üì¶ Subscription Tracker API

REST API-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É—á—ë—Ç–∞ –æ–Ω–ª–∞–π–Ω-–ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

##  üìë –û–ø–∏—Å–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –°–æ–∑–¥–∞–≤–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ –æ –ø–æ–¥–ø–∏—Å–∫–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ –¥–∞—Ç–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞
- –°—á–∏—Ç–∞—Ç—å –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–æ–∫ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API —á–µ—Ä–µ–∑ Swagger

##  üß± –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Golang**
- **Gin** ‚Äî HTTP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Docker + Docker Compose** ‚Äî –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- **Swaggo/swag** ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

##  üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
srcs/
‚îú‚îÄ‚îÄ config/ # Docker Compose –∏ .env

‚îú‚îÄ‚îÄ docs/ # –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

‚îú‚îÄ‚îÄ internal/

‚îÇ ‚îú‚îÄ‚îÄ handler/ # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

‚îÇ ‚îú‚îÄ‚îÄ model/ # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

‚îÇ ‚îú‚îÄ‚îÄ repository/ # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (PostgreSQL)

‚îÇ ‚îî‚îÄ‚îÄ storage/ # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

‚îú‚îÄ‚îÄ cmd/

‚îÇ ‚îî‚îÄ‚îÄ app/ # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (main.go)

‚îî‚îÄ‚îÄ migrations/ # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö


---

##  üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üîß –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [Docker](https://www.docker.com/)
- [Make](https://www.gnu.org/software/make/)

1.  **üèó –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞**
    ```bash
    make
    ```
    
2.  **üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
    ```bash
    make down
    ```

3.  **üîÅ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**
    ```bash
    make re
    ```

4.  **üìö –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
    ```bash
    make docs
    ```
    **Swagger –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:**
    
    http://localhost:8080/swagger/index.html

5.  **üßº –û—á–∏—Å—Ç–∫–∞ Docker-—Å—Ä–µ–¥—ã**
    –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è volumes –∏ –æ–±—Ä–∞–∑—ã):
    ```bash
    make fclean
    ```

##  –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

1.  **–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏**
    ```http
    GET /subscriptions
    ```

2.  **–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ —Ñ–∏–ª—å—Ç—Ä—É**
    ```http
    GET /subscriptions?user_id={uuid}&service_name={string}
    ```

3.  **–°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É**
    ```http
    POST /subscriptions
    Content-Type: application/json 
    {
      "user_id": "uuid",
      "service_name": "Netflix",
      "price": 500,
      "start_date": "2024-01",
      "end_date": "2024-12"
    }
    ```

4.  **–ü–æ—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º–∞—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å**
    ```http
    GET /subscriptions/total_price?from_date=01-2024&to_date=12-2024&user_id={uuid}&service_name={string}
    ```

##  ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ srcs/config/.env:
    ```env

    DB_USER=postgres
    DB_PASS=your_password
    DB_NAME=subscriptions
    DB_HOST=db
    ```
